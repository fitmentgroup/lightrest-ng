/* lightrest-ng 0.2.3 */
!function(){"use strict";angular.module("lightrest",[]),angular.module("lightrest").factory("lightrest",["$http","$q",function(r,e){function n(r){return JSON.parse(JSON.stringify(r))}function o(r,e){for(var n=e.split(".");n.length&&(r=r[n.shift()]););return r}function t(r,e){if(void 0===e.urlApiPrepend)e.urlApiPrepend=!0;else if(e.urlApiPrepend===!0);else if(e.urlApiPrepend!==!1)throw new Error("urlApiPrepend option can only be one of these: undefined true false");if(void 0===e.arrayMode);else if("concurrent"==e.arrayMode);else if("sequential"!=e.arrayMode)throw new Error("arrayMode option should be one of these: undefined 'concurrent' 'sequential'");if(void 0===e.body)e.body=r.method&&"get"!=r.method.toLowerCase()?!0:!1;else if(e.body===!1);else if(e.body===!0);else if(!("string"==typeof e.body||e.body instanceof String))throw new Error("body option should be one of these: undefined true false ");if(void 0===e.query)e.query=r.method&&"get"!=r.method.toLowerCase()?!1:!0;else if(e.query===!1);else if(e.query===!0);else if(!("string"==typeof e.query||e.query instanceof String))throw new Error("query option should be one of these: undefined true false ");if(void 0===e.urlParams)e.urlParams=!0;else if(e.urlParams===!0);else if(e.urlParams!==!1)throw new Error("urlParams option can only be one of these: undefined true false")}function i(i,u){function a(e){e||(e={});var t=n(i);if(u.urlParams&&(t.url=t.url.replace(/:([\w.]+)/g,function(r,n){var t=new Error("Url parameter "+n+" was not included in the data");if(!e)throw t;var i=o(e,n);if(null==i)throw t;if(i=i.toString(),!i)throw t;return i})),u.body){var a="string"==typeof u.body||u.body instanceof String?o(e,u.body):e;t.data=a}if(u.query){var a="string"==typeof u.query||u.query instanceof String?o(e,u.query):e;t.query=a}return{run:function(){return r(t)}}}return i=i?n(i):{},u||(u={}),t(i,u),u.urlApiPrepend&&("/"!=i.url[0]&&(i.url="/"+i.url),0!=i.url.indexOf("/api")&&(i.url="/api"+i.url)),function(r){if(!u.arrayMode)return a(r).run();for(var n=[],o=r.length,t=0;o>t;t++)n.push(a(r[t]));if("concurrent"==u.arrayMode){for(var t=0;o>t;t++)n[t]=n[t].run();return e.all(n)}if("sequential"==u.arrayMode){var o=n.length,t=-1,i=function(){return t++,t>=o?!0:n[t].run().then(i,i)};return i()}}}var u={build:i};return u}])}();